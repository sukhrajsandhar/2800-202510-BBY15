<%- include('templates/header', { cssFiles: ['/styles.css', '/footer.css', '/alerts.css', '/header.css', '/bg.css'] }) %>

<!-- Scrollable alerts container -->
<div class="container mt-5" style="max-height: calc(100vh - 150px); overflow-y: auto;">
    <h4 class="mb-4">Alerts for <%= campsite.name %></h4>

    <% if (alerts && alerts.length > 0) { %>
        <% alerts.forEach(function(alert) { %>
            <div class="card mb-3">
                <div class="card-body">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <div class="d-flex align-items-center">
                            <div>
                                <img 
                                    style="width: 40px; height: 40px; background-color: #D0DDD7; border-radius: 50%;" 
                                    src="/images/avatars/avatar<%= Math.floor(Math.random() * 6) + 1 %>.png"
                                    alt="avatar"
                                >
                            </div>
                            <div class="ms-2">
                                <h6 class="mb-0"><%= user.firstName + ' ' + user.lastName %></h6>
                                <small class="text-muted"><%= alert.alertType %></small>
                            </div>
                        </div>
                        <small class="text-muted"><%= new Date(alert.alertDate).toLocaleDateString() %></small>
                    </div>
                    <p class="mb-0"><%= alert.message %></p>
                </div>
            </div>
        <% }) %>
    <% } else { %>
        <p class="text-muted">No alerts available for this campsite yet.</p>
    <% } %>

    <%- include("templates/bg") %>
</div>

<%- include('templates/footer') %>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
    crossorigin="anonymous"></script>
